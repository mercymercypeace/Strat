local Players = game:GetService("Players")
local player = Players.LocalPlayer
local workspace = game:GetService("Workspace")

local range = 50
local interval = 1

local function getRootPart()
    local character = player.Character
    if not character then
        character = player.CharacterAdded:Wait()
    end
    return character:WaitForChild("HumanoidRootPart")
end

local function findNearestGumdrop(rootPart)
    local nearest = nil
    local shortestDist = math.huge
    
    local pickups = workspace:FindFirstChild("Pickups")
    
    if pickups then
        for i, v in pairs(pickups:GetChildren()) do
            if v:IsA("BasePart") then
                local dist = (v.Position - rootPart.Position).magnitude
                if dist <= range and dist < shortestDist then
                    shortestDist = dist
                    nearest = v
                end
            end
        end
    end
    
    return nearest, shortestDist
end

spawn(function()
    local root = getRootPart()
    
    while true do
        if not root.Parent or not root.Parent.Parent then
            root = getRootPart()
        end
        
        local gumdrop = findNearestGumdrop(root)
        
        if gumdrop then
            local pos = gumdrop.Position + Vector3.new(0, root.Size.Y / 2 + 0.1, 0)
            root.CFrame = CFrame.new(pos)
        end
        
        wait(interval)
    end
end)
